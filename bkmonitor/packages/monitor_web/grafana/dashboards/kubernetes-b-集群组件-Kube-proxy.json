{
  "annotations":{
    "list":[
      {
        "builtIn":1,
        "datasource":{
          "type":"datasource",
          "uid":"grafana"
        },
        "enable":true,
        "hide":true,
        "iconColor":"rgba(0, 211, 255, 1)",
        "name":"Annotations & Alerts",
        "target":{
          "limit":100,
          "matchAny":false,
          "tags":[

          ],
          "type":"dashboard"
        },
        "type":"dashboard"
      }
    ]
  },
  "editable":true,
  "fiscalYearStartMonth":0,
  "graphTooltip":0,
  "links":[

  ],
  "liveNow":false,
  "panels":[
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":10,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "min":0,
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"ops"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":7,
        "w":12,
        "x":0,
        "y":0
      },
      "id":3,
      "links":[

      ],
      "options":{
        "legend":{
          "calcs":[
            "lastNotNull"
          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"single",
          "sort":"none"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"ui",
          "module":[

          ],
          "promqlAlias":"",
          "query_configs":[
            {
              "alias":"$tag_instance",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"rate",
                  "params":[
                    {
                      "id":"window",
                      "value":"2m"
                    }
                  ]
                }
              ],
              "group_by":[
                "instance"
              ],
              "interval":60,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"kubeproxy_sync_proxy_rules_duration_seconds_count",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"job",
                  "method":"eq",
                  "value":[
                    "kube-proxy"
                  ]
                },
                {
                  "condition":"and",
                  "key":"instance",
                  "method":"eq",
                  "value":[
                    "$instance"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"",
          "step":"",
          "type":"range"
        }
      ],
      "title":"Rules Sync Rate",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":10,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "min":0,
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"s"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":7,
        "w":12,
        "x":12,
        "y":0
      },
      "id":4,
      "links":[

      ],
      "options":{
        "legend":{
          "calcs":[
            "lastNotNull"
          ],
          "displayMode":"table",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"none"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"kubeproxy_sync_proxy_rules_duration_seconds_bucket",
          "query_configs":[

          ],
          "refId":"A",
          "source":"histogram_quantile(0.99,rate(kubeproxy_sync_proxy_rules_duration_seconds_bucket{job=\"kube-proxy\", instance=~\"$instance\"}[2m]))",
          "step":"",
          "type":"range"
        }
      ],
      "title":"Rule Sync Latency 99th Quantile",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":10,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "min":0,
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"ops"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":7,
        "w":12,
        "x":0,
        "y":7
      },
      "id":5,
      "links":[

      ],
      "options":{
        "legend":{
          "calcs":[
            "lastNotNull"
          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"single",
          "sort":"none"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"ui",
          "module":[

          ],
          "promqlAlias":"",
          "query_configs":[
            {
              "alias":"rate",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"rate",
                  "params":[
                    {
                      "id":"window",
                      "value":"5m"
                    }
                  ]
                }
              ],
              "group_by":[

              ],
              "interval":150,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"kubeproxy_network_programming_duration_seconds_count",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"job",
                  "method":"eq",
                  "value":[
                    "kube-proxy"
                  ]
                },
                {
                  "condition":"and",
                  "key":"instance",
                  "method":"reg",
                  "value":[
                    "$instance"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"",
          "step":"",
          "type":"range"
        }
      ],
      "title":"Network Programming Rate",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":10,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "min":0,
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"s"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":7,
        "w":12,
        "x":12,
        "y":7
      },
      "id":6,
      "links":[

      ],
      "options":{
        "legend":{
          "calcs":[
            "lastNotNull"
          ],
          "displayMode":"table",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"single",
          "sort":"none"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"$tag_instance p99",
          "query_configs":[

          ],
          "refId":"A",
          "source":"histogram_quantile(0.99, sum(rate(kubeproxy_network_programming_duration_seconds_bucket{job=\"kube-proxy\", instance=~\"$instance\"}[2m])) by (instance, le))",
          "step":"",
          "type":"range"
        }
      ],
      "title":"Network Programming Latency 99th Quantile",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":10,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"ops"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":7,
        "w":8,
        "x":0,
        "y":14
      },
      "id":7,
      "links":[

      ],
      "options":{
        "legend":{
          "calcs":[
            "lastNotNull"
          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"single",
          "sort":"none"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"ui",
          "module":[

          ],
          "promqlAlias":"",
          "query_configs":[
            {
              "alias":"2xx",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"rate",
                  "params":[
                    {
                      "id":"window",
                      "value":"5m"
                    }
                  ]
                }
              ],
              "group_by":[

              ],
              "interval":150,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"rest_client_requests_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"job",
                  "method":"eq",
                  "value":[
                    "kube-proxy"
                  ]
                },
                {
                  "condition":"and",
                  "key":"instance",
                  "method":"reg",
                  "value":[
                    "$instance"
                  ]
                },
                {
                  "condition":"and",
                  "key":"code",
                  "method":"reg",
                  "value":[
                    "2.."
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"",
          "step":"",
          "type":"range"
        },
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"ui",
          "module":[

          ],
          "promqlAlias":"",
          "query_configs":[
            {
              "alias":"3xx",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"rate",
                  "params":[
                    {
                      "id":"window",
                      "value":"5m"
                    }
                  ]
                }
              ],
              "group_by":[

              ],
              "interval":150,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"rest_client_requests_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"job",
                  "method":"eq",
                  "value":[
                    "kube-proxy"
                  ]
                },
                {
                  "condition":"and",
                  "key":"instance",
                  "method":"reg",
                  "value":[
                    "$instance"
                  ]
                },
                {
                  "condition":"and",
                  "key":"code",
                  "method":"reg",
                  "value":[
                    "3.."
                  ]
                }
              ]
            }
          ],
          "refId":"B",
          "source":"",
          "step":"",
          "type":"range"
        },
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"ui",
          "module":[

          ],
          "promqlAlias":"",
          "query_configs":[
            {
              "alias":"4xx",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"rate",
                  "params":[
                    {
                      "id":"window",
                      "value":"5m"
                    }
                  ]
                }
              ],
              "group_by":[

              ],
              "interval":150,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"rest_client_requests_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"job",
                  "method":"eq",
                  "value":[
                    "kube-proxy"
                  ]
                },
                {
                  "condition":"and",
                  "key":"instance",
                  "method":"reg",
                  "value":[
                    "$instance"
                  ]
                },
                {
                  "condition":"and",
                  "key":"code",
                  "method":"reg",
                  "value":[
                    "4.."
                  ]
                }
              ]
            }
          ],
          "refId":"C",
          "source":"",
          "step":"",
          "type":"range"
        },
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"ui",
          "module":[

          ],
          "promqlAlias":"",
          "query_configs":[
            {
              "alias":"5xx",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"rate",
                  "params":[
                    {
                      "id":"window",
                      "value":"5m"
                    }
                  ]
                }
              ],
              "group_by":[

              ],
              "interval":150,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"rest_client_requests_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"job",
                  "method":"eq",
                  "value":[
                    "kube-proxy"
                  ]
                },
                {
                  "condition":"and",
                  "key":"instance",
                  "method":"reg",
                  "value":[
                    "$instance"
                  ]
                },
                {
                  "condition":"and",
                  "key":"code",
                  "method":"reg",
                  "value":[
                    "5.."
                  ]
                }
              ]
            }
          ],
          "refId":"D",
          "source":"",
          "step":"",
          "type":"range"
        }
      ],
      "title":"Kube API Request Rate",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":10,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "min":0,
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"s"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":7,
        "w":16,
        "x":8,
        "y":14
      },
      "id":8,
      "links":[

      ],
      "options":{
        "legend":{
          "calcs":[
            "lastNotNull"
          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"desc"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "alias":"$tag_verb $tag_url",
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "display":false,
          "expression":"",
          "host":[

          ],
          "module":[

          ],
          "only_promql":true,
          "query_configs":[

          ],
          "refId":"A",
          "showExpression":false,
          "source":"histogram_quantile(0.99, sum(rate(rest_client_request_duration_seconds_bucket{job=\"kube-proxy\",instance=~\"$instance\",verb=\"POST\"}[2m])) by (verb, url, le))",
          "step":""
        }
      ],
      "title":"Post Request Latency 99th Quantile",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":10,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "min":0,
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"s"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":7,
        "w":24,
        "x":0,
        "y":21
      },
      "id":9,
      "links":[

      ],
      "options":{
        "legend":{
          "calcs":[
            "lastNotNull"
          ],
          "displayMode":"table",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"desc"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "alias":"$tag_verb $tag_url",
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "display":false,
          "expression":"",
          "host":[

          ],
          "module":[

          ],
          "only_promql":true,
          "query_configs":[

          ],
          "refId":"A",
          "showExpression":false,
          "source":"histogram_quantile(0.99, sum(rate(rest_client_request_duration_seconds_bucket{job=\"kube-proxy\", instance=~\"$instance\", verb=\"GET\"}[2m])) by (verb, url, le))",
          "step":""
        }
      ],
      "title":"Get Request Latency 99th Quantile",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":10,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"bytes"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":7,
        "w":8,
        "x":0,
        "y":28
      },
      "id":10,
      "links":[

      ],
      "options":{
        "legend":{
          "calcs":[
            "lastNotNull"
          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"desc"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"ui",
          "module":[

          ],
          "promqlAlias":"",
          "query_configs":[
            {
              "alias":"$tag_instance",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[
                "instance"
              ],
              "interval":60,
              "interval_unit":"s",
              "method":"avg_without_time",
              "metric_field":"process_resident_memory_bytes",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"job",
                  "method":"eq",
                  "value":[
                    "kube-proxy"
                  ]
                },
                {
                  "condition":"and",
                  "key":"instance",
                  "method":"reg",
                  "value":[
                    "$instance"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"",
          "step":"",
          "type":"range"
        }
      ],
      "title":"Memory",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":10,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "min":0,
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"short"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":7,
        "w":8,
        "x":8,
        "y":28
      },
      "id":11,
      "links":[

      ],
      "options":{
        "legend":{
          "calcs":[
            "lastNotNull"
          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"none"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"ui",
          "module":[

          ],
          "promqlAlias":"",
          "query_configs":[
            {
              "alias":"$tag_instance",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"rate",
                  "params":[
                    {
                      "id":"window",
                      "value":"5m"
                    }
                  ]
                }
              ],
              "group_by":[
                "instance"
              ],
              "interval":150,
              "interval_unit":"s",
              "method":"AVG",
              "metric_field":"process_cpu_seconds_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"job",
                  "method":"eq",
                  "value":[
                    "kube-proxy"
                  ]
                },
                {
                  "condition":"and",
                  "key":"instance",
                  "method":"reg",
                  "value":[
                    "$instance"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"",
          "step":"",
          "type":"range"
        }
      ],
      "title":"CPU usage",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":10,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"short"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":7,
        "w":8,
        "x":16,
        "y":28
      },
      "id":12,
      "links":[

      ],
      "options":{
        "legend":{
          "calcs":[
            "lastNotNull"
          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"desc"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"ui",
          "module":[

          ],
          "promqlAlias":"",
          "query_configs":[
            {
              "alias":"$tag_instance",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[
                "instance"
              ],
              "interval":60,
              "interval_unit":"s",
              "method":"avg_without_time",
              "metric_field":"go_goroutines",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"job",
                  "method":"eq",
                  "value":[
                    "kube-proxy"
                  ]
                },
                {
                  "condition":"and",
                  "key":"instance",
                  "method":"reg",
                  "value":[
                    "$instance"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"",
          "step":"",
          "type":"range"
        }
      ],
      "title":"Goroutines",
      "type":"timeseries"
    }
  ],
  "refresh":"",
  "schemaVersion":37,
  "style":"dark",
  "tags":[
    "k8s",
    "bkmonitor"
  ],
  "templating":{
    "list":[
      {
        "current":{

        },
        "datasource":{
          "type":"bkmonitor-timeseries-datasource",
          "uid":"${DS_蓝鲸监控_-_指标数据}"
        },
        "definition":"- Blueking Monitor - 维度",
        "hide":0,
        "includeAll":false,
        "multi":false,
        "name":"cluster_id",
        "options":[

        ],
        "query":{
          "metricConfig":{
            "data_source_label":"bk_monitor",
            "data_type_label":"time_series",
            "group_by":"bcs_cluster_id",
            "metric_field":"kubeproxy_sync_proxy_rules_duration_seconds_count",
            "result_table_id":"",
            "result_table_label":"kubernetes",
            "where":[

            ]
          },
          "queryType":"dimension",
          "variables":""
        },
        "refresh":1,
        "regex":"",
        "skipUrlSync":false,
        "sort":0,
        "tagValuesQuery":"",
        "tagsQuery":"",
        "type":"query",
        "useTags":false
      },
      {
        "current":{

        },
        "datasource":{
          "type":"bkmonitor-timeseries-datasource",
          "uid":"${DS_蓝鲸监控_-_指标数据}"
        },
        "definition":"- Blueking Monitor - 维度",
        "hide":0,
        "includeAll":false,
        "multi":false,
        "name":"instance",
        "options":[

        ],
        "query":{
          "metricConfig":{
            "data_source_label":"bk_monitor",
            "data_type_label":"time_series",
            "group_by":"instance",
            "metric_field":"kubeproxy_sync_proxy_rules_duration_seconds_count",
            "result_table_id":"",
            "result_table_label":"kubernetes",
            "where":[
              {
                "key":"bcs_cluster_id",
                "method":"eq",
                "value":[
                  "$cluster_id"
                ]
              }
            ]
          },
          "queryType":"dimension",
          "variables":"$cluster_id"
        },
        "refresh":1,
        "regex":"",
        "skipUrlSync":false,
        "sort":1,
        "tagValuesQuery":"",
        "tagsQuery":"",
        "type":"query",
        "useTags":false
      }
    ]
  },
  "time":{
    "from":"now-1h",
    "to":"now"
  },
  "timepicker":{
    "refresh_intervals":[
      "5s",
      "10s",
      "30s",
      "1m",
      "5m",
      "15m",
      "30m",
      "1h",
      "2h",
      "1d"
    ],
    "time_options":[
      "5m",
      "15m",
      "1h",
      "6h",
      "12h",
      "24h",
      "2d",
      "7d",
      "30d"
    ]
  },
  "timezone":"browser",
  "title":"kubernetes/集群组件-Kube-proxy",
  "version":18,
  "weekStart":"",
  "__inputs":[
    {
      "name":"DS_蓝鲸监控_-_指标数据",
      "label":"蓝鲸监控 - 指标数据",
      "description":"",
      "type":"datasource",
      "pluginId":"bkmonitor-timeseries-datasource",
      "pluginName":"Blueing Monitor TimeSeries"
    }
  ],
  "__requires":[
    {
      "type":"datasource",
      "id":"bkmonitor-timeseries-datasource",
      "name":"Blueing Monitor TimeSeries"
    }
  ]
}