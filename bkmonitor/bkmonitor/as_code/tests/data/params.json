{
  "notice/duty.yaml": "name: test\ndescription: \"\"\n\nalert:\n  00:00--23:59:\n    remind:\n      type: [weixin, mail, wxwork-bot]\n      chatids: [xxxxxxxxxxx, yyyyyyyyyyy]\n    warning:\n      type: [weixin, mail]\n    fatal:\n      type: [weixin, mail]\n\naction:\n  00:00--23:59:\n    execute:\n      type: [weixin, mail, wxwork-bot]\n      chatids: [xxxxxxxxxxx, yyyyyyyyyyy]\n    execute_failed:\n      type: [weixin, mail]\n    execute_success:\n      type: [weixin, mail]\n\nduties:\n- user_groups: [[group#bk_operator, xxx]]\n  type: weekly\n  handover:\n    date: 1\n    time: 00:00\n  work:\n    days: []\n    time_range: 00:00--23:59\n  effective_time: 2022-05-24 17:35:00\n  need_rotation: false\n",
  "notice/ops.yaml": "name: 日常运维\ndescription: \"\"\nsnippet: base.yaml\n\nusers: [user1, group#bk_operator]\n",
  "notice/snippets/base.yaml": "alert:\n  00:00--23:59:\n    remind:\n      type: [weixin, mail]\n    warning:\n      type: [weixin, mail]\n    fatal:\n      type: [weixin, mail]\naction:\n  00:00--23:59:\n    execute:\n      type: [weixin, mail, wxwork-bot]\n      chatids: [xxxxxxxxxxx, yyyyyyyyyyy]\n    execute_failed:\n      type: [weixin, mail]\n    execute_success:\n      type: [weixin, mail]\n",
  "rule/cpu_simple.yaml": "name: CPU单核使用率\n\nquery:\n  data_source: bk_monitor\n  data_type: time_series\n  query_configs:\n  - metric: system.cpu_detail.usage\n    method: avg\n    interval: 60\n    group_by:\n    - bk_target_ip\n    - bk_target_cloud_id\n\ndetect:\n  algorithm:\n    fatal:\n    - type: Threshold\n      config: \">1 and <2\"\n\n  trigger: 1/5/5\n\nnotice:\n  user_groups:\n  - ops.yaml\n",
  "rule/cpu_simple_with_snippet.yaml": "snippet: base.yaml\n\nname: CPU单核使用率2\n\nquery:\n  query_configs:\n  - metric: system.cpu_detail.usage\n    method: avg\n    interval: 60\n    group_by:\n    - bk_target_ip\n    - bk_target_cloud_id\n\ndetect:\n  algorithm:\n    fatal:\n    - type: Threshold\n      config: \">1 and <2\"\n",
  "rule/all.yaml": "name: 测试策略\nlabels:\n- label1\n- label2\nenabled: true\nactive_time: \"00:00 -- 23:59\"\nactive_calendar: []\n\n# 查询配置\nquery:\n  type: bk_monitor\n  data_source: bk_monitor\n  data_type: time_series\n  expression: a + b\n  query_configs:\n  - metric: system.disk.free\n    method: avg\n    interval: 60\n    group_by: []\n    functions:\n    - delta(2m)\n    - abs\n    where: bk_target_ip=\"1\" or bk_target_cloud_id!=\"2\" or bk_target_ip=~\"1\" or bk_target_ip!~\"111\" or device_name=\"4\"\n    alias: a\n  - metric: system.disk.free\n    method: avg\n    interval: 60\n    group_by: []\n    functions:\n    - delta(2m)\n    - abs\n    where: bk_target_ip=\"1\" or bk_target_cloud_id!=\"2\" or bk_target_ip=~\"1\" or bk_target_ip!~\"111\" or device_name=\"4\"\n    alias: b\n\n  # 监控目标\n  target:\n    type: host\n    nodes:\n      - 127.0.0.1\n      - 127.0.0.1|0\n\ndetect:\n  # 检测算法\n  algorithm:\n    operator: and\n    unit: Mb\n\n    fatal:\n    - type: Threshold\n      config: \">1 or <2\"\n    warning:\n    - type: SimpleRingRatio\n      config:\n        floor: 10\n        ceil: 23\n    remind:\n    - type: AdvancedRingRatio\n      config:\n        floor: 10\n        ceil: 15\n        ceil_interval: 7\n        floor_interval: 5\n\n  # 触发条件\n  trigger: 2/10/6\n  nodata:\n    enabled: false\n    continuous: 10\n    dimensions: []\n    level: fatal\n\n# 通知\nnotice:\n  signal:\n    - recovered\n    - abnormal\n  exclude_notice_ways: {}\n  user_groups: [duty.yaml]\n  biz_converge: true\n  interval: 120\n  interval_mode: standard\n  template:\n    abnormal:\n      title: \"aaa\"\n      content: \"aaa\"\n    recovered:\n      title: \"aaa\"\n      content: \"aaa\"\n    closed:\n      title: \"aaa\"\n      content: \"aaa\"\n\n# 处理套餐\nactions:\n- signal: [abnormal]\n  action: webhook.yaml\n  converge:\n    interval: 1\n    count: 1\n    func: skip_when_success\n",
  "rule/snippets/base.yaml": "labels:\n- 主机\n\nactive_time: 06:00 -- 23:59\n\ndetect:\n  trigger: 3/5/5\n\nquery:\n  data_source: bk_monitor\n  data_type: time_series\n\nnotice:\n  signal:\n  - abnormal\n  - recovered\n\n  user_groups:\n  - ops.yaml\n",
  "action/webhook.yaml": "name: webhook\ndescription: \"\"\n\ntype: webhook\ntimeout: 600\n\ntemplate_id: 1\ntemplate_detail:\n  need_poll: false\n  notify_interval: 7200\n  interval_notify_mode: standard\n  method: GET\n  url: http://test.webhook.com/?a=123&b={{target.business.bk_biz_name}}\n  headers: []\n  authorize:\n    auth_type: none\n    auth_config: {}\n  body:\n    data_type: x_www_form_urlencoded\n    params:\n      - key: xxxx\n        value: xxxx\n        desc: \"\"\n        is_builtin: false\n        is_enabled: true\n    content: \"\"\n    content_type: \"\"\n  query_params: []\n  failed_retry:\n    is_enabled: true\n    timeout: 10\n    max_retry_times: 2\n    retry_interval: 2\n",
  "action/job.yaml": "name: 测试作业\ndescription: \"\"\n\ntype: job\ntimeout: 600\n\ntemplate_id: 1\ntemplate_detail:\n  1_3: 127.0.0.1\n",
  "action/snippets/base.yaml": "description: \"aaa\"\n"
}